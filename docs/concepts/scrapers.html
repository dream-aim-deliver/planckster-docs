<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts/scrapers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Data Scrapers | Satellite Data Augmentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dream-aim-deliver.github.io/planckster-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://dream-aim-deliver.github.io/planckster-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://dream-aim-deliver.github.io/planckster-docs/docs/concepts/scrapers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data Scrapers | Satellite Data Augmentation"><meta data-rh="true" name="description" content="This document covers three key concepts regarding the scrapers: Telegram Scraper, Twitter Scraper, and Sentinel Scraper. It aims to show you what is happening behind your Kubeflow pipeline when you run the scrapers. It will explain what they do,their key arguments and functionalities in the current environment."><meta data-rh="true" property="og:description" content="This document covers three key concepts regarding the scrapers: Telegram Scraper, Twitter Scraper, and Sentinel Scraper. It aims to show you what is happening behind your Kubeflow pipeline when you run the scrapers. It will explain what they do,their key arguments and functionalities in the current environment."><link data-rh="true" rel="icon" href="/planckster-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dream-aim-deliver.github.io/planckster-docs/docs/concepts/scrapers"><link data-rh="true" rel="alternate" href="https://dream-aim-deliver.github.io/planckster-docs/docs/concepts/scrapers" hreflang="en"><link data-rh="true" rel="alternate" href="https://dream-aim-deliver.github.io/planckster-docs/docs/concepts/scrapers" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/planckster-docs/blog/rss.xml" title="Satellite Data Augmentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/planckster-docs/blog/atom.xml" title="Satellite Data Augmentation Atom Feed"><link rel="stylesheet" href="/planckster-docs/assets/css/styles.d62e9a2d.css">
<script src="/planckster-docs/assets/js/runtime~main.7da8d115.js" defer="defer"></script>
<script src="/planckster-docs/assets/js/main.6f679c37.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/planckster-docs/"><div class="navbar__logo"><img src="/planckster-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/planckster-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Satellite Data Augmentation - Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/planckster-docs/docs/category/core-concepts">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/planckster-docs/docs/category/core-concepts">Core Concepts</a><button aria-label="Collapse sidebar category &#x27;Core Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/planckster-docs/docs/concepts/core-concepts">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/planckster-docs/docs/concepts/architecture">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/planckster-docs/docs/concepts/disaster-tracking-usecase">Disaster Tracking Usecase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/planckster-docs/docs/concepts/scrapers">Data Scrapers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/planckster-docs/docs/category/guides">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/planckster-docs/docs/examples">Examples</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/planckster-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/planckster-docs/docs/category/core-concepts"><span itemprop="name">Core Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Data Scrapers</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Data Scrapers</h1>
<p>This document covers three key concepts regarding the scrapers: <strong>Telegram Scraper</strong>, <strong>Twitter Scraper</strong>, and <strong>Sentinel Scraper</strong>. It aims to show you what is happening behind your Kubeflow pipeline when you run the scrapers. It will explain what they do,their key arguments and functionalities in the current environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="telegram-scraper">Telegram Scraper<a class="hash-link" aria-label="Direct link to Telegram Scraper" title="Direct link to Telegram Scraper" href="/planckster-docs/docs/concepts/scrapers#telegram-scraper">​</a></h2>
<p>The Telegram Scraper allows you to extract messages from specific Telegram channels using the Telethon Python package. This section provides a detailed explanation on how Telegram the scraper is set up and operates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-and-configuration">Setup and Configuration<a class="hash-link" aria-label="Direct link to Setup and Configuration" title="Direct link to Setup and Configuration" href="/planckster-docs/docs/concepts/scrapers#setup-and-configuration">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-arguments">Required Arguments<a class="hash-link" aria-label="Direct link to Required Arguments" title="Direct link to Required Arguments" href="/planckster-docs/docs/concepts/scrapers#required-arguments">​</a></h4>
<ol>
<li>
<p><strong>Kernel-Planckster-specific arguments</strong>:</p>
<ul>
<li><code>job_id</code>: A unique identifier for the job.</li>
<li><code>tracer_id</code>: Used to trace the job.</li>
<li><code>kp_host</code>: Kernel Planckster host address.</li>
<li><code>kp_port</code>: Kernel Planckster port number.</li>
<li><code>kp_auth_token</code>: Authentication token for Kernel Planckster.</li>
<li><code>kp_scheme</code>: Connection scheme (either <code>http</code> or <code>https</code>).</li>
<li><code>log_level</code>: The level of logging information to capture.</li>
</ul>
</li>
<li>
<p><strong>Telegram API Configuration</strong>:</p>
<ul>
<li><code>telegram_api_id</code>: Your Telegram API ID.</li>
<li><code>telegram_api_hash</code>: Your Telegram API Hash.</li>
<li><code>telegram_phone_number</code>: The phone number linked to your Telegram account (optional).</li>
<li><code>telegram_password</code>: Password for the Telegram account (optional).</li>
<li><code>telegram_bot_token</code>: Telegram bot token (optional).</li>
<li><code>channel_name</code>: Name of the Telegram channel to scrape.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="telegram-scraper-configuration">Telegram Scraper Configuration<a class="hash-link" aria-label="Direct link to Telegram Scraper Configuration" title="Direct link to Telegram Scraper Configuration" href="/planckster-docs/docs/concepts/scrapers#telegram-scraper-configuration">​</a></h3>
<p>To use the Telegram Scraper, a Telegram client is needed. Here&#x27;s how it is done in Python:</p>
<ol>
<li>
<p><strong>Install the Telethon Package</strong>: Make sure the Telethon package is installed. It can be installed via pip:</p>
<p><code>pip install telethon</code></p>
</li>
<li>
<p><strong>Define the Client Setup Function</strong>: Create a function to set up the Telegram client. This will include passing necessary authentication details:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> telethon </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TelegramClient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_scraping_client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_api_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_api_hashtelegram_phone_number</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_password</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_bot_token</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> TelegramClient</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TelegramClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;session_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_api_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_api_hash</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">telegram_phone_number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">telegram_password</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieving-messages">Retrieving Messages<a class="hash-link" aria-label="Direct link to Retrieving Messages" title="Direct link to Retrieving Messages" href="/planckster-docs/docs/concepts/scrapers#retrieving-messages">​</a></h3>
<p>Once the client is configured, messages can be retreived from a specified channel using the <code>scrape</code> function.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-scrape">Function: <code>scrape</code><a class="hash-link" aria-label="Direct link to function-scrape" title="Direct link to function-scrape" href="/planckster-docs/docs/concepts/scrapers#function-scrape">​</a></h4>
<ul>
<li><strong>Purpose</strong>: Scrapes messages from a specified Telegram channel.</li>
<li><strong>Arguments</strong>:<!-- -->
<ul>
<li><code>job_id</code>: Unique job identifier.</li>
<li><code>channel_name</code>: Telegram channel name to scrape.</li>
<li><code>tracer_id</code>: Job trace identifier.</li>
<li><code>scraped_data_repository</code>: Repository to store the scraped data.</li>
<li><code>telegram_client</code>: Configured <code>TelegramClient</code> instance.</li>
<li><code>openai_api_key</code>: OpenAI API key (if needed for processing).</li>
<li><code>log_level</code>: Logging level.</li>
</ul>
</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">scrape</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> channel_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tracer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scraped_data_repository</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> openai_api_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_level</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> JobOutput</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> telegram_client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        messages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> telegram_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_messages</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">channel_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> message </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> messages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Process each message as needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> JobOutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;FINISHED&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="augmentation">Augmentation<a class="hash-link" aria-label="Direct link to Augmentation" title="Direct link to Augmentation" href="/planckster-docs/docs/concepts/scrapers#augmentation">​</a></h3>
<ul>
<li>
<p><strong>Augmenting Data</strong>: The scraped messages can be enhanced by integrating data from other sources. For instance:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">augment_telegram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    augmented_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Example augmentation logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        augmented_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> augmented_data </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> augmented_data </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-telegram-scraper-locally">Running the Telegram Scraper Locally<a class="hash-link" aria-label="Direct link to Running the Telegram Scraper Locally" title="Direct link to Running the Telegram Scraper Locally" href="/planckster-docs/docs/concepts/scrapers#running-the-telegram-scraper-locally">​</a></h3>
<p>Here is an example demonstrating how to use the Telegram scraper:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1">Step 1<a class="hash-link" aria-label="Direct link to Step 1" title="Direct link to Step 1" href="/planckster-docs/docs/concepts/scrapers#step-1">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-kernel-planckster">Set Up Kernel-Planckster<a class="hash-link" aria-label="Direct link to Set Up Kernel-Planckster" title="Direct link to Set Up Kernel-Planckster" href="/planckster-docs/docs/concepts/scrapers#set-up-kernel-planckster">​</a></h5>
<p>First, clone the Kernel-Planckster repository onto your local machine:</p>
<p><code>git clone https://github.com/dream-aim-deliver/kernel-planckster.git</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="install-dependencies">Install Dependencies<a class="hash-link" aria-label="Direct link to Install Dependencies" title="Direct link to Install Dependencies" href="/planckster-docs/docs/concepts/scrapers#install-dependencies">​</a></h5>
<p>Set up a virtual environment for Kernel-Planckster&#x27;s dependencies.
Run in the root directory of the kernel-planckster folder</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m venv </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">venv</span><span class="token operator" style="color:#393A34">/</span><span class="token builtin">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">activate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Kernel-Planckster uses <code>poetry</code> for dependency management:</p>
<p><code>pip install poetry poetry install</code></p>
<blockquote>
<p><strong>Note:</strong> If <code>poetry</code> is unable to install <code>psycopg2</code>, use your system package manager to install it.</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="running-kernel-planckster">Running Kernel-Planckster<a class="hash-link" aria-label="Direct link to Running Kernel-Planckster" title="Direct link to Running Kernel-Planckster" href="/planckster-docs/docs/concepts/scrapers#running-kernel-planckster">​</a></h5>
<p>Run Kernel-Planckster from the command line:</p>
<p><code>poetry run dev:storage</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="access-kernel-plancksters-api-and-object-storage">Access Kernel-Planckster&#x27;s API and Object Storage<a class="hash-link" aria-label="Direct link to Access Kernel-Planckster&#x27;s API and Object Storage" title="Direct link to Access Kernel-Planckster&#x27;s API and Object Storage" href="/planckster-docs/docs/concepts/scrapers#access-kernel-plancksters-api-and-object-storage">​</a></h5>
<ul>
<li><strong>API:</strong> Accessible at <code>http://localhost:8000/</code> with an interactive interface at <code>http://localhost:8000/docs</code> for testing and debugging.</li>
<li><strong>Object Storage:</strong> Accessible via the MinIO server at <code> http://localhost:9001/</code> (or sometimes  <code>http://localhost:9091/</code>). The &quot;SDA&quot; bucket is created when a scraper is run.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2">Step 2<a class="hash-link" aria-label="Direct link to Step 2" title="Direct link to Step 2" href="/planckster-docs/docs/concepts/scrapers#step-2">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> telethon </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TelegramClient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set up logging</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;telegram_scraper&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basicConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tracer_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;abc123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telegram_api_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_api_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telegram_api_hash </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_api_hash&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telegram_phone_number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_phone_number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telegram_password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_password&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">channel_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_channel_name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set up the Telegram client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_scraping_client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_api_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_api_hash</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_phone_number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> telegram_password</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the scraper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> scrape</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> channel_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tracer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_level</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output the result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="twitter-scraper">Twitter Scraper<a class="hash-link" aria-label="Direct link to Twitter Scraper" title="Direct link to Twitter Scraper" href="/planckster-docs/docs/concepts/scrapers#twitter-scraper">​</a></h2>
<p>The Twitter Scraper is designed to collect tweets based on search queries, allowing you to specify date ranges and filter results. TThis section provides a detailed explanation on how Twitter the scraper is set up and operates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-and-configuration-1">Setup and Configuration<a class="hash-link" aria-label="Direct link to Setup and Configuration" title="Direct link to Setup and Configuration" href="/planckster-docs/docs/concepts/scrapers#setup-and-configuration-1">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-arguments-1">Required Arguments<a class="hash-link" aria-label="Direct link to Required Arguments" title="Direct link to Required Arguments" href="/planckster-docs/docs/concepts/scrapers#required-arguments-1">​</a></h4>
<ol>
<li>
<p><strong>Kernel-Planckster-specific arguments</strong>:</p>
<ul>
<li><code>job_id</code>: Unique job identifier.</li>
<li><code>tracer_id</code>: Job trace identifier.</li>
<li><code>kp_host</code>: Kernel Planckster host address.</li>
<li><code>kp_port</code>: Kernel Planckster port number.</li>
<li><code>kp_auth_token</code>: Authentication token for Kernel Planckster.</li>
<li><code>kp_scheme</code>: Connection scheme (<code>http</code> or <code>https</code>).</li>
<li><code>log_level</code>: Logging level.</li>
</ul>
</li>
<li>
<p><strong>Twitter API Configuration</strong>:</p>
<ul>
<li><code>query</code>: The search query to use for retrieving tweets.</li>
<li><code>start_date</code>: The start date for the search in <code>YYYY-MM-DD</code> format.</li>
<li><code>end_date</code>: The end date for the search in <code>YYYY-MM-DD</code> format.</li>
<li><code>scraper_api_key</code>: API key for the scraper service.</li>
<li><code>openai_api_key</code>: API key for OpenAI services (if needed).</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="twitter-scraper-configuration">Twitter Scraper Configuration<a class="hash-link" aria-label="Direct link to Twitter Scraper Configuration" title="Direct link to Twitter Scraper Configuration" href="/planckster-docs/docs/concepts/scrapers#twitter-scraper-configuration">​</a></h3>
<p>This is how the Telegram Scraper is set up in Python:</p>
<ol>
<li>
<p><strong>Install Required Libraries</strong>: Make sure the necessary libraries are installed, such as <code>tweepy</code>:</p>
<p><code>pip install tweepy</code></p>
</li>
<li>
<p><strong>Define the Setup Function</strong>: Create a function to set up the scraper environment:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tweepy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kp_auth_token</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kp_host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kp_port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kp_scheme</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Setup logic goes here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tweepy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bearer_token</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">kp_auth_token</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieving-tweets">Retrieving Tweets<a class="hash-link" aria-label="Direct link to Retrieving Tweets" title="Direct link to Retrieving Tweets" href="/planckster-docs/docs/concepts/scrapers#retrieving-tweets">​</a></h3>
<p>The <code>scrape</code> function retrieves tweets based on the provided search query and date range.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-scrape-1">Function: <code>scrape</code><a class="hash-link" aria-label="Direct link to function-scrape-1" title="Direct link to function-scrape-1" href="/planckster-docs/docs/concepts/scrapers#function-scrape-1">​</a></h4>
<ul>
<li><strong>Purpose</strong>: Extracts tweets matching a specific query and date range.</li>
<li><strong>Arguments</strong>:<!-- -->
<ul>
<li><code>job_id</code>: Unique job identifier.</li>
<li><code>tracer_id</code>: Job trace identifier.</li>
<li><code>query</code>: The search query for Twitter.</li>
<li><code>start_date</code>: Start date in <code>YYYY-MM-DD</code> format.</li>
<li><code>end_date</code>: End date in <code>YYYY-MM-DD</code> format.</li>
<li><code>scraped_data_repository</code>: Repository to store scraped data.</li>
<li><code>log_level</code>: Logging level.</li>
<li><code>scraper_api_key</code>: API key for the scraper.</li>
<li><code>openai_api_key</code>: API key for OpenAI (if needed).</li>
</ul>
</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">scrape</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tracer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> query</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scraped_data_repository</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scraper_api_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> openai_api_key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scraper_api_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tweets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">search_recent_tweets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start_time</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">start_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end_time</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">end_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_results</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tweet </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tweets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tweet</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> JobOutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;FINISHED&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tweets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="augmentation-1">Augmentation<a class="hash-link" aria-label="Direct link to Augmentation" title="Direct link to Augmentation" href="/planckster-docs/docs/concepts/scrapers#augmentation-1">​</a></h3>
<ul>
<li>
<p><strong>Augmenting Data</strong>: Enhance the retrieved tweets by incorporating additional data or insights:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">augment_tweet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tweet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tweet</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> tweet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-twitter-scraper-locally">Running the Twitter Scraper Locally<a class="hash-link" aria-label="Direct link to Running the Twitter Scraper Locally" title="Direct link to Running the Twitter Scraper Locally" href="/planckster-docs/docs/concepts/scrapers#running-the-twitter-scraper-locally">​</a></h3>
<p>Here&#x27;s an example to demonstrate how to use the Twitter scraper:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-1">Step 1<a class="hash-link" aria-label="Direct link to Step 1" title="Direct link to Step 1" href="/planckster-docs/docs/concepts/scrapers#step-1-1">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-kernel-planckster-1">Set Up Kernel-Planckster<a class="hash-link" aria-label="Direct link to Set Up Kernel-Planckster" title="Direct link to Set Up Kernel-Planckster" href="/planckster-docs/docs/concepts/scrapers#set-up-kernel-planckster-1">​</a></h5>
<p>First, clone the Kernel-Planckster repository onto your local machine:</p>
<p><code>git clone https://github.com/dream-aim-deliver/kernel-planckster.git</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="install-dependencies-1">Install Dependencies<a class="hash-link" aria-label="Direct link to Install Dependencies" title="Direct link to Install Dependencies" href="/planckster-docs/docs/concepts/scrapers#install-dependencies-1">​</a></h5>
<p>Set up a virtual environment for Kernel-Planckster&#x27;s dependencies.
Run in the root directory of the kernel-planckster folder</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m venv </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">venv</span><span class="token operator" style="color:#393A34">/</span><span class="token builtin">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">activate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Kernel-Planckster uses <code>poetry</code> for dependency management:</p>
<p><code>pip install poetry poetry install</code></p>
<blockquote>
<p><strong>Note:</strong> If <code>poetry</code> is unable to install <code>psycopg2</code>, use your system package manager to install it.</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="running-kernel-planckster-1">Running Kernel-Planckster<a class="hash-link" aria-label="Direct link to Running Kernel-Planckster" title="Direct link to Running Kernel-Planckster" href="/planckster-docs/docs/concepts/scrapers#running-kernel-planckster-1">​</a></h5>
<p>Run Kernel-Planckster from the command line:</p>
<p><code>poetry run dev:storage</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="access-kernel-plancksters-api-and-object-storage-1">Access Kernel-Planckster&#x27;s API and Object Storage<a class="hash-link" aria-label="Direct link to Access Kernel-Planckster&#x27;s API and Object Storage" title="Direct link to Access Kernel-Planckster&#x27;s API and Object Storage" href="/planckster-docs/docs/concepts/scrapers#access-kernel-plancksters-api-and-object-storage-1">​</a></h5>
<ul>
<li><strong>API:</strong> Accessible at <code> http://localhost:8000/</code> with an interactive interface at <code>http://localhost:8000/docs</code> for testing and debugging.</li>
<li><strong>Object Storage:</strong> Accessible via the MinIO server at <code> http://localhost:9001/</code> (or sometimes <code>http://localhost:9091/</code>). The &quot;SDA&quot; bucket is created when a scraper is run.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-1">Step 2<a class="hash-link" aria-label="Direct link to Step 2" title="Direct link to Step 2" href="/planckster-docs/docs/concepts/scrapers#step-2-1">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set up logging</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;twitter_scraper&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basicConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tracer_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;abc123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;forest fire&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start_date </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-01-01&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end_date </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-01-31&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scraper_api_key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_scraper_api_key&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the scraper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> scrape</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tracer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> query</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scraper_api_key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output the result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sentinel-scraper">Sentinel Scraper<a class="hash-link" aria-label="Direct link to Sentinel Scraper" title="Direct link to Sentinel Scraper" href="/planckster-docs/docs/concepts/scrapers#sentinel-scraper">​</a></h2>
<p>The Sentinel Scraper is used to retrieve satellite images from the Sentinel Hub API. It provides options to specify geographic bounding boxes, date ranges, and resolution settings.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-and-configuration-2">Setup and Configuration<a class="hash-link" aria-label="Direct link to Setup and Configuration" title="Direct link to Setup and Configuration" href="/planckster-docs/docs/concepts/scrapers#setup-and-configuration-2">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-arguments-2">Required Arguments<a class="hash-link" aria-label="Direct link to Required Arguments" title="Direct link to Required Arguments" href="/planckster-docs/docs/concepts/scrapers#required-arguments-2">​</a></h4>
<ol>
<li>
<p><strong>Kernel-Planckster-specific arguments</strong>:</p>
<ul>
<li><code>job_id</code>: Unique job identifier.</li>
<li><code>tracer_id</code>: Job trace identifier.</li>
<li><code>kp_host</code>: Kernel Planckster host address.</li>
<li><code>kp_port</code>: Kernel Planckster port number.</li>
<li><code>kp_auth_token</code>: Authentication token for Kernel Planckster.</li>
<li><code>kp_scheme</code>: Connection scheme (<code>http</code> or <code>https</code>).</li>
<li><code>log_level</code>: Logging level.</li>
</ul>
</li>
<li>
<p><strong>Sentinel Hub Configuration</strong>:</p>
<ul>
<li><code>evalscript</code>: Sentinel Hub Evalscript to use.</li>
<li><code>bbox</code>: Bounding box of the area of interest.</li>
<li><code>resolution</code>: Spatial resolution in meters.</li>
<li><code>cloud_coverage</code>: Maximum allowable cloud coverage percentage.</li>
<li><code>start_date</code>: Start date for image acquisition in <code>YYYY-MM-DD</code> format.</li>
<li><code>end_date</code>: End date for image acquisition in <code>YYYY-MM-DD</code> format.</li>
<li><code>sh_client_id</code>: Sentinel Hub client ID.</li>
<li><code>sh_client_secret</code>: Sentinel Hub client secret.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sentinel-hub-client-configuration">Sentinel Hub Client Configuration<a class="hash-link" aria-label="Direct link to Sentinel Hub Client Configuration" title="Direct link to Sentinel Hub Client Configuration" href="/planckster-docs/docs/concepts/scrapers#sentinel-hub-client-configuration">​</a></h3>
<p>This is how Sentinel Scraper is set up:</p>
<ol>
<li>
<p><strong>Install Required Libraries</strong>: Ensure that you have the necessary libraries installed, such as <code>sentinelhub</code> or <code>requests</code>.</p>
<p><code>pip install sentinelhub</code></p>
</li>
<li>
<p><strong>Define the Setup Function</strong>: Create a function to set up the Sentinel Hub client:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sentinelhub </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SHConfig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SentinelHubRequest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_secret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> evalscript</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bbox</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resolution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cloud_coverage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SHConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sh_client_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sh_client_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sh_client_secret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sh_client_secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieving-satellite-images">Retrieving Satellite Images<a class="hash-link" aria-label="Direct link to Retrieving Satellite Images" title="Direct link to Retrieving Satellite Images" href="/planckster-docs/docs/concepts/scrapers#retrieving-satellite-images">​</a></h3>
<p>The <code>scrape</code> function retrieves satellite images from the Sentinel Hub based on the specified parameters.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-scrape-2">Function: <code>scrape</code><a class="hash-link" aria-label="Direct link to function-scrape-2" title="Direct link to function-scrape-2" href="/planckster-docs/docs/concepts/scrapers#function-scrape-2">​</a></h4>
<ul>
<li><strong>Purpose</strong>: Fetches satellite images from Sentinel Hub.</li>
<li><strong>Arguments</strong>:<!-- -->
<ul>
<li><code>job_id</code>: Unique job identifier.</li>
<li><code>tracer_id</code>: Job trace identifier.</li>
<li><code>evalscript</code>: Sentinel Hub Evalscript.</li>
<li><code>bbox</code>: Bounding box for the area of interest.</li>
<li><code>resolution</code>: Spatial resolution in meters.</li>
<li><code>cloud_coverage</code>: Maximum cloud coverage percentage.</li>
<li><code>start_date</code>: Start date in <code>YYYY-MM-DD</code> format.</li>
<li><code>end_date</code>: End date in <code>YYYY-MM-DD</code> format.</li>
<li><code>scraped_data_repository</code>: Repository to store scraped data.</li>
<li><code>sh_client_id</code>: Sentinel Hub client ID.</li>
<li><code>sh_client_secret</code>: Sentinel Hub client secret.</li>
<li><code>openai_api_key</code>: API key for OpenAI (if needed).</li>
</ul>
</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">scrape</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tracer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> evalscript</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bbox</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resolution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cloud_coverage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> scraped_data_repository</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_secret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> openai_api_key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_secret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> evalscript</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bbox</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resolution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cloud_coverage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    request </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SentinelHubRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        evalscript</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">evalscript</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        input_data</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SentinelHubRequest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">input_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DataSource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SENTINEL2_L1C</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> time_interval</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        responses</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SentinelHubRequest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">output_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;default&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MimeType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TIFF</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bbox</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bbox</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resolution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resolution</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    images </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Process images as needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> JobOutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;FINISHED&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="augmentation-2">Augmentation<a class="hash-link" aria-label="Direct link to Augmentation" title="Direct link to Augmentation" href="/planckster-docs/docs/concepts/scrapers#augmentation-2">​</a></h3>
<ul>
<li>
<p><strong>Augmenting Data</strong>: Satellite images can be enhanced by applying image processing techniques:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">augment_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Apply augmentation logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> processed_image</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-sentinel-scraper-locally">Running the Sentinel Scraper Locally<a class="hash-link" aria-label="Direct link to Running the Sentinel Scraper Locally" title="Direct link to Running the Sentinel Scraper Locally" href="/planckster-docs/docs/concepts/scrapers#running-the-sentinel-scraper-locally">​</a></h3>
<p>Here&#x27;s an example to demonstrate how to use the Sentinel scraper:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-2">Step 1<a class="hash-link" aria-label="Direct link to Step 1" title="Direct link to Step 1" href="/planckster-docs/docs/concepts/scrapers#step-1-2">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-kernel-planckster-2">Set Up Kernel-Planckster<a class="hash-link" aria-label="Direct link to Set Up Kernel-Planckster" title="Direct link to Set Up Kernel-Planckster" href="/planckster-docs/docs/concepts/scrapers#set-up-kernel-planckster-2">​</a></h5>
<p>First, clone the Kernel-Planckster repository onto your local machine:</p>
<p><code>git clone https://github.com/dream-aim-deliver/kernel-planckster.git</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="install-dependencies-2">Install Dependencies<a class="hash-link" aria-label="Direct link to Install Dependencies" title="Direct link to Install Dependencies" href="/planckster-docs/docs/concepts/scrapers#install-dependencies-2">​</a></h5>
<p>Set up a virtual environment for Kernel-Planckster&#x27;s dependencies.
Run in the root directory of the kernel-planckster folder</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m venv </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">venv</span><span class="token operator" style="color:#393A34">/</span><span class="token builtin">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">activate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Kernel-Planckster uses <code>poetry</code> for dependency management:</p>
<p><code>pip install poetry poetry install</code></p>
<blockquote>
<p><strong>Note:</strong> If <code>poetry</code> is unable to install <code>psycopg2</code>, use your system package manager to install it.</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="running-kernel-planckster-2">Running Kernel-Planckster<a class="hash-link" aria-label="Direct link to Running Kernel-Planckster" title="Direct link to Running Kernel-Planckster" href="/planckster-docs/docs/concepts/scrapers#running-kernel-planckster-2">​</a></h5>
<p>Run Kernel-Planckster from the command line:</p>
<p><code>poetry run dev:storage</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="access-kernel-plancksters-api-and-object-storage-2">Access Kernel-Planckster&#x27;s API and Object Storage<a class="hash-link" aria-label="Direct link to Access Kernel-Planckster&#x27;s API and Object Storage" title="Direct link to Access Kernel-Planckster&#x27;s API and Object Storage" href="/planckster-docs/docs/concepts/scrapers#access-kernel-plancksters-api-and-object-storage-2">​</a></h5>
<ul>
<li><strong>API:</strong> Accessible at <code>http://localhost:8000/</code> with an interactive interface at <code>http://localhost:8000/docs</code> for testing and debugging.</li>
<li><strong>Object Storage:</strong> Accessible via the MinIO server at <code>http://localhost:9001/</code> (or sometimes <code>http://localhost:9091/</code>). The &quot;SDA&quot; bucket is created when a scraper is run.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-2">Step 2<a class="hash-link" aria-label="Direct link to Step 2" title="Direct link to Step 2" href="/planckster-docs/docs/concepts/scrapers#step-2-2">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set up logging</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;sentinel_scraper&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basicConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tracer_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;abc123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">evalscript </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_evalscript&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bbox </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">13.822</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">45.850</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13.928</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">45.992</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resolution </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cloud_coverage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start_date </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-01-01&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end_date </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-01-31&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sh_client_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_sh_client_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sh_client_secret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_sh_client_secret&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the scraper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> scrape</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tracer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> evalscript</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bbox</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resolution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cloud_coverage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sh_client_secret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output the result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="/planckster-docs/docs/concepts/scrapers#conclusion">​</a></h2>
<p>This comprehensive guide provides detailed instructions on setting up and using Telegram, Twitter, and Sentinel scrapers. By following these steps, you can effectively gather data from these platforms for your specific needs. Ensure you have all necessary credentials and configurations set up before running each scraper.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/dream-aim-deliver/planckster-docs/edit/main/docs/concepts/scrapers.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/planckster-docs/docs/concepts/disaster-tracking-usecase"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Disaster Tracking Usecase</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/planckster-docs/docs/category/guides"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Guides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#telegram-scraper">Telegram Scraper</a><ul><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#setup-and-configuration">Setup and Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#telegram-scraper-configuration">Telegram Scraper Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#retrieving-messages">Retrieving Messages</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#augmentation">Augmentation</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#running-the-telegram-scraper-locally">Running the Telegram Scraper Locally</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#twitter-scraper">Twitter Scraper</a><ul><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#setup-and-configuration-1">Setup and Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#twitter-scraper-configuration">Twitter Scraper Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#retrieving-tweets">Retrieving Tweets</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#augmentation-1">Augmentation</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#running-the-twitter-scraper-locally">Running the Twitter Scraper Locally</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#sentinel-scraper">Sentinel Scraper</a><ul><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#setup-and-configuration-2">Setup and Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#sentinel-hub-client-configuration">Sentinel Hub Client Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#retrieving-satellite-images">Retrieving Satellite Images</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#augmentation-2">Augmentation</a></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#running-the-sentinel-scraper-locally">Running the Sentinel Scraper Locally</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/planckster-docs/docs/concepts/scrapers#conclusion">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/planckster-docs/docs/concepts/core-concepts">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kernel-planckster.devmaany.com/docs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kernel Planckster<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://websat-planckster.devmaany.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Websat Planckster<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://kubeflow.devmaany.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lieutenant Planckster<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/mpi-dsg/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Dream Aim Deliver KLG.</div></div></div></footer></div>
</body>
</html>